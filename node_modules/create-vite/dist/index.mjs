import E from"node:fs";import C from"node:path";import{fileURLToPath as Je}from"node:url";import We from"child_process";import ft from"path";import mt from"fs";import ze from"readline";import qe from"events";var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function st(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var z={exports:{}},pt,Jt;function Ke(){if(Jt)return pt;Jt=1,pt=i,i.sync=n;var e=mt;function t(o,r){var l=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!l||(l=l.split(";"),l.indexOf("")!==-1))return!0;for(var d=0;d<l.length;d++){var a=l[d].toLowerCase();if(a&&o.substr(-a.length).toLowerCase()===a)return!0}return!1}function s(o,r,l){return!o.isSymbolicLink()&&!o.isFile()?!1:t(r,l)}function i(o,r,l){e.stat(o,function(d,a){l(d,d?!1:s(a,o,r))})}function n(o,r){return s(e.statSync(o),o,r)}return pt}var gt,Wt;function Ze(){if(Wt)return gt;Wt=1,gt=t,t.sync=s;var e=mt;function t(o,r,l){e.stat(o,function(d,a){l(d,d?!1:i(a,r))})}function s(o,r){return i(e.statSync(o),r)}function i(o,r){return o.isFile()&&n(o,r)}function n(o,r){var l=o.mode,d=o.uid,a=o.gid,v=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),m=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),h=parseInt("100",8),c=parseInt("010",8),g=parseInt("001",8),$=h|c,P=l&g||l&c&&a===m||l&h&&d===v||l&$&&v===0;return P}return gt}var it;process.platform==="win32"||Ue.TESTING_WINDOWS?it=Ke():it=Ze();var Xe=bt;bt.sync=Qe;function bt(e,t,s){if(typeof t=="function"&&(s=t,t={}),!s){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,n){bt(e,t||{},function(o,r){o?n(o):i(r)})})}it(e,t||{},function(i,n){i&&(i.code==="EACCES"||t&&t.ignoreErrors)&&(i=null,n=!1),s(i,n)})}function Qe(e,t){try{return it.sync(e,t||{})}catch(s){if(t&&t.ignoreErrors||s.code==="EACCES")return!1;throw s}}const q=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",zt=ft,ts=q?";":":",qt=Xe,Ut=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Kt=(e,t)=>{const s=t.colon||ts,i=e.match(/\//)||q&&e.match(/\\/)?[""]:[...q?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(s)],n=q?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=q?n.split(s):[""];return q&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:i,pathExt:o,pathExtExe:n}},Zt=(e,t,s)=>{typeof t=="function"&&(s=t,t={}),t||(t={});const{pathEnv:i,pathExt:n,pathExtExe:o}=Kt(e,t),r=[],l=a=>new Promise((v,m)=>{if(a===i.length)return t.all&&r.length?v(r):m(Ut(e));const h=i[a],c=/^".*"$/.test(h)?h.slice(1,-1):h,g=zt.join(c,e),$=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+g:g;v(d($,a,0))}),d=(a,v,m)=>new Promise((h,c)=>{if(m===n.length)return h(l(v+1));const g=n[m];qt(a+g,{pathExt:o},($,P)=>{if(!$&&P)if(t.all)r.push(a+g);else return h(a+g);return h(d(a,v,m+1))})});return s?l(0).then(a=>s(null,a),s):l(0)},es=(e,t)=>{t=t||{};const{pathEnv:s,pathExt:i,pathExtExe:n}=Kt(e,t),o=[];for(let r=0;r<s.length;r++){const l=s[r],d=/^".*"$/.test(l)?l.slice(1,-1):l,a=zt.join(d,e),v=!d&&/^\.[\\\/]/.test(e)?e.slice(0,2)+a:a;for(let m=0;m<i.length;m++){const h=v+i[m];try{if(qt.sync(h,{pathExt:n}))if(t.all)o.push(h);else return h}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw Ut(e)};var ss=Zt;Zt.sync=es;var vt={exports:{}};const Xt=(e={})=>{const t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};vt.exports=Xt,vt.exports.default=Xt;var is=vt.exports;const Qt=ft,rs=ss,ns=is;function te(e,t){const s=e.options.env||process.env,i=process.cwd(),n=e.options.cwd!=null,o=n&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let r;try{r=rs.sync(e.command,{path:s[ns({env:s})],pathExt:t?Qt.delimiter:void 0})}catch{}finally{o&&process.chdir(i)}return r&&(r=Qt.resolve(n?e.options.cwd:"",r)),r}function os(e){return te(e)||te(e,!0)}var ls=os,wt={};const yt=/([()\][%!^"`<>&|;, *?])/g;function as(e){return e=e.replace(yt,"^$1"),e}function hs(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(yt,"^$1"),t&&(e=e.replace(yt,"^$1")),e}wt.command=as,wt.argument=hs;var cs=/^#!(.*)/;const us=cs;var ds=(e="")=>{const t=e.match(us);if(!t)return null;const[s,i]=t[0].replace(/#! ?/,"").split(" "),n=s.split("/").pop();return n==="env"?i:i?`${n} ${i}`:n};const xt=mt,fs=ds;function ms(e){const s=Buffer.alloc(150);let i;try{i=xt.openSync(e,"r"),xt.readSync(i,s,0,150,0),xt.closeSync(i)}catch{}return fs(s.toString())}var ps=ms;const gs=ft,ee=ls,se=wt,bs=ps,vs=process.platform==="win32",ws=/\.(?:com|exe)$/i,ys=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function xs(e){e.file=ee(e);const t=e.file&&bs(e.file);return t?(e.args.unshift(e.file),e.command=t,ee(e)):e.file}function $s(e){if(!vs)return e;const t=xs(e),s=!ws.test(t);if(e.options.forceShell||s){const i=ys.test(t);e.command=gs.normalize(e.command),e.command=se.command(e.command),e.args=e.args.map(o=>se.argument(o,i));const n=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${n}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function Ss(e,t,s){t&&!Array.isArray(t)&&(s=t,t=null),t=t?t.slice(0):[],s=Object.assign({},s);const i={command:e,args:t,options:s,file:void 0,original:{command:e,args:t}};return s.shell?i:$s(i)}var Es=Ss;const $t=process.platform==="win32";function St(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function Ts(e,t){if(!$t)return;const s=e.emit;e.emit=function(i,n){if(i==="exit"){const o=ie(n,t);if(o)return s.call(e,"error",o)}return s.apply(e,arguments)}}function ie(e,t){return $t&&e===1&&!t.file?St(t.original,"spawn"):null}function Cs(e,t){return $t&&e===1&&!t.file?St(t.original,"spawnSync"):null}var Os={hookChildProcess:Ts,verifyENOENT:ie,verifyENOENTSync:Cs,notFoundError:St};const re=We,Et=Es,Tt=Os;function ne(e,t,s){const i=Et(e,t,s),n=re.spawn(i.command,i.args,i.options);return Tt.hookChildProcess(n,i),n}function Ms(e,t,s){const i=Et(e,t,s),n=re.spawnSync(i.command,i.args,i.options);return n.error=n.error||Tt.verifyENOENTSync(n.status,i),n}z.exports=ne,z.exports.spawn=ne,z.exports.sync=Ms,z.exports._parse=Et,z.exports._enoent=Tt;var Ps=z.exports;const Ds=st(Ps);function Rs(e,t){var s=e;t.slice(0,-1).forEach(function(n){s=s[n]||{}});var i=t[t.length-1];return i in s}function oe(e){return typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function le(e,t){return t==="constructor"&&typeof e[t]=="function"||t==="__proto__"}var _s=function(e,t){t||(t={});var s={bools:{},strings:{},unknownFn:null};typeof t.unknown=="function"&&(s.unknownFn=t.unknown),typeof t.boolean=="boolean"&&t.boolean?s.allBools=!0:[].concat(t.boolean).filter(Boolean).forEach(function(f){s.bools[f]=!0});var i={};function n(f){return i[f].some(function(u){return s.bools[u]})}Object.keys(t.alias||{}).forEach(function(f){i[f]=[].concat(t.alias[f]),i[f].forEach(function(u){i[u]=[f].concat(i[f].filter(function(y){return u!==y}))})}),[].concat(t.string).filter(Boolean).forEach(function(f){s.strings[f]=!0,i[f]&&[].concat(i[f]).forEach(function(u){s.strings[u]=!0})});var o=t.default||{},r={_:[]};function l(f,u){return s.allBools&&/^--[^=]+$/.test(u)||s.strings[f]||s.bools[f]||i[f]}function d(f,u,y){for(var p=f,V=0;V<u.length-1;V++){var O=u[V];if(le(p,O))return;p[O]===void 0&&(p[O]={}),(p[O]===Object.prototype||p[O]===Number.prototype||p[O]===String.prototype)&&(p[O]={}),p[O]===Array.prototype&&(p[O]=[]),p=p[O]}var D=u[u.length-1];le(p,D)||((p===Object.prototype||p===Number.prototype||p===String.prototype)&&(p={}),p===Array.prototype&&(p=[]),p[D]===void 0||s.bools[D]||typeof p[D]=="boolean"?p[D]=y:Array.isArray(p[D])?p[D].push(y):p[D]=[p[D],y])}function a(f,u,y){if(!(y&&s.unknownFn&&!l(f,y)&&s.unknownFn(y)===!1)){var p=!s.strings[f]&&oe(u)?Number(u):u;d(r,f.split("."),p),(i[f]||[]).forEach(function(V){d(r,V.split("."),p)})}}Object.keys(s.bools).forEach(function(f){a(f,o[f]===void 0?!1:o[f])});var v=[];e.indexOf("--")!==-1&&(v=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var m=0;m<e.length;m++){var h=e[m],c,g;if(/^--.+=/.test(h)){var $=h.match(/^--([^=]+)=([\s\S]*)$/);c=$[1];var P=$[2];s.bools[c]&&(P=P!=="false"),a(c,P,h)}else if(/^--no-.+/.test(h))c=h.match(/^--no-(.+)/)[1],a(c,!1,h);else if(/^--.+/.test(h))c=h.match(/^--(.+)/)[1],g=e[m+1],g!==void 0&&!/^(-|--)[^-]/.test(g)&&!s.bools[c]&&!s.allBools&&(!i[c]||!n(c))?(a(c,g,h),m+=1):/^(true|false)$/.test(g)?(a(c,g==="true",h),m+=1):a(c,s.strings[c]?"":!0,h);else if(/^-[^-]+/.test(h)){for(var T=h.slice(1,-1).split(""),W=!1,S=0;S<T.length;S++){if(g=h.slice(S+2),g==="-"){a(T[S],g,h);continue}if(/[A-Za-z]/.test(T[S])&&g[0]==="="){a(T[S],g.slice(1),h),W=!0;break}if(/[A-Za-z]/.test(T[S])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(g)){a(T[S],g,h),W=!0;break}if(T[S+1]&&T[S+1].match(/\W/)){a(T[S],h.slice(S+2),h),W=!0;break}else a(T[S],s.strings[T[S]]?"":!0,h)}c=h.slice(-1)[0],!W&&c!=="-"&&(e[m+1]&&!/^(-|--)[^-]/.test(e[m+1])&&!s.bools[c]&&(!i[c]||!n(c))?(a(c,e[m+1],h),m+=1):e[m+1]&&/^(true|false)$/.test(e[m+1])?(a(c,e[m+1]==="true",h),m+=1):a(c,s.strings[c]?"":!0,h))}else if((!s.unknownFn||s.unknownFn(h)!==!1)&&r._.push(s.strings._||!oe(h)?h:Number(h)),t.stopEarly){r._.push.apply(r._,e.slice(m+1));break}}return Object.keys(o).forEach(function(f){Rs(r,f.split("."))||(d(r,f.split("."),o[f]),(i[f]||[]).forEach(function(u){d(r,u.split("."),o[f])}))}),t["--"]?r["--"]=v.slice():v.forEach(function(f){r._.push(f)}),r};const Is=st(_s);var ae={};const{FORCE_COLOR:As,NODE_DISABLE_COLORS:js,TERM:Ns}=process.env,b={enabled:!js&&Ns!=="dumb"&&As!=="0",reset:w(0,0),bold:w(1,22),dim:w(2,22),italic:w(3,23),underline:w(4,24),inverse:w(7,27),hidden:w(8,28),strikethrough:w(9,29),black:w(30,39),red:w(31,39),green:w(32,39),yellow:w(33,39),blue:w(34,39),magenta:w(35,39),cyan:w(36,39),white:w(37,39),gray:w(90,39),grey:w(90,39),bgBlack:w(40,49),bgRed:w(41,49),bgGreen:w(42,49),bgYellow:w(43,49),bgBlue:w(44,49),bgMagenta:w(45,49),bgCyan:w(46,49),bgWhite:w(47,49)};function he(e,t){let s=0,i,n="",o="";for(;s<e.length;s++)i=e[s],n+=i.open,o+=i.close,t.includes(i.close)&&(t=t.replace(i.rgx,i.close+i.open));return n+t+o}function Fs(e,t){let s={has:e,keys:t};return s.reset=b.reset.bind(s),s.bold=b.bold.bind(s),s.dim=b.dim.bind(s),s.italic=b.italic.bind(s),s.underline=b.underline.bind(s),s.inverse=b.inverse.bind(s),s.hidden=b.hidden.bind(s),s.strikethrough=b.strikethrough.bind(s),s.black=b.black.bind(s),s.red=b.red.bind(s),s.green=b.green.bind(s),s.yellow=b.yellow.bind(s),s.blue=b.blue.bind(s),s.magenta=b.magenta.bind(s),s.cyan=b.cyan.bind(s),s.white=b.white.bind(s),s.gray=b.gray.bind(s),s.grey=b.grey.bind(s),s.bgBlack=b.bgBlack.bind(s),s.bgRed=b.bgRed.bind(s),s.bgGreen=b.bgGreen.bind(s),s.bgYellow=b.bgYellow.bind(s),s.bgBlue=b.bgBlue.bind(s),s.bgMagenta=b.bgMagenta.bind(s),s.bgCyan=b.bgCyan.bind(s),s.bgWhite=b.bgWhite.bind(s),s}function w(e,t){let s={open:`\x1B[${e}m`,close:`\x1B[${t}m`,rgx:new RegExp(`\\x1b\\[${t}m`,"g")};return function(i){return this!==void 0&&this.has!==void 0?(this.has.includes(e)||(this.has.push(e),this.keys.push(s)),i===void 0?this:b.enabled?he(this.keys,i+""):i+""):i===void 0?Fs([e],[s]):b.enabled?he([s],i+""):i+""}}var R=b,Bs=(e,t)=>{if(!(e.meta&&e.name!=="escape")){if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c"||e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(t){if(e.name==="j")return"down";if(e.name==="k")return"up"}return e.name==="return"||e.name==="enter"?"submit":e.name==="backspace"?"delete":e.name==="delete"?"deleteForward":e.name==="abort"?"abort":e.name==="escape"?"exit":e.name==="tab"?"next":e.name==="pagedown"?"nextPage":e.name==="pageup"?"prevPage":e.name==="home"?"home":e.name==="end"?"end":e.name==="up"?"up":e.name==="down"?"down":e.name==="right"?"right":e.name==="left"?"left":!1}},Ct=e=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),s=new RegExp(t,"g");return typeof e=="string"?e.replace(s,""):e};const Ot="\x1B",x=`${Ot}[`,ks="\x07",Mt={to(e,t){return t?`${x}${t+1};${e+1}H`:`${x}${e+1}G`},move(e,t){let s="";return e<0?s+=`${x}${-e}D`:e>0&&(s+=`${x}${e}C`),t<0?s+=`${x}${-t}A`:t>0&&(s+=`${x}${t}B`),s},up:(e=1)=>`${x}${e}A`,down:(e=1)=>`${x}${e}B`,forward:(e=1)=>`${x}${e}C`,backward:(e=1)=>`${x}${e}D`,nextLine:(e=1)=>`${x}E`.repeat(e),prevLine:(e=1)=>`${x}F`.repeat(e),left:`${x}G`,hide:`${x}?25l`,show:`${x}?25h`,save:`${Ot}7`,restore:`${Ot}8`},Ys={up:(e=1)=>`${x}S`.repeat(e),down:(e=1)=>`${x}T`.repeat(e)},Hs={screen:`${x}2J`,up:(e=1)=>`${x}1J`.repeat(e),down:(e=1)=>`${x}J`.repeat(e),line:`${x}2K`,lineEnd:`${x}K`,lineStart:`${x}1K`,lines(e){let t="";for(let s=0;s<e;s++)t+=this.line+(s<e-1?Mt.up():"");return e&&(t+=Mt.left),t}};var _={cursor:Mt,scroll:Ys,erase:Hs,beep:ks};const Ls=Ct,{erase:ce,cursor:Vs}=_,Gs=e=>[...Ls(e)].length;var Js=function(e,t){if(!t)return ce.line+Vs.to(0);let s=0;const i=e.split(/\r?\n/);for(let n of i)s+=1+Math.floor(Math.max(Gs(n)-1,0)/t);return ce.lines(s)};const Z={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Ws={arrowUp:Z.arrowUp,arrowDown:Z.arrowDown,arrowLeft:Z.arrowLeft,arrowRight:Z.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},zs=process.platform==="win32"?Ws:Z;var ue=zs;const U=R,G=ue,Pt=Object.freeze({password:{scale:1,render:e=>"*".repeat(e.length)},emoji:{scale:2,render:e=>"\u{1F603}".repeat(e.length)},invisible:{scale:0,render:e=>""},default:{scale:1,render:e=>`${e}`}}),qs=e=>Pt[e]||Pt.default,X=Object.freeze({aborted:U.red(G.cross),done:U.green(G.tick),exited:U.yellow(G.cross),default:U.cyan("?")}),Us=(e,t,s)=>t?X.aborted:s?X.exited:e?X.done:X.default,Ks=e=>U.gray(e?G.ellipsis:G.pointerSmall),Zs=(e,t)=>U.gray(e?t?G.pointerSmall:"+":G.line);var Xs={styles:Pt,render:qs,symbols:X,symbol:Us,delimiter:Ks,item:Zs};const Qs=Ct;var ti=function(e,t){let s=String(Qs(e)||"").split(/\r?\n/);return t?s.map(i=>Math.ceil(i.length/t)).reduce((i,n)=>i+n):s.length},ei=(e,t={})=>{const s=Number.isSafeInteger(parseInt(t.margin))?new Array(parseInt(t.margin)).fill(" ").join(""):t.margin||"",i=t.width;return(e||"").split(/\r?\n/g).map(n=>n.split(/\s+/g).reduce((o,r)=>(r.length+s.length>=i||o[o.length-1].length+r.length+1<i?o[o.length-1]+=` ${r}`:o.push(`${s}${r}`),o),[s]).join(`
`)).join(`
`)},si=(e,t,s)=>{s=s||t;let i=Math.min(t-s,e-Math.floor(s/2));i<0&&(i=0);let n=Math.min(i+s,t);return{startIndex:i,endIndex:n}},I={action:Bs,clear:Js,style:Xs,strip:Ct,figures:ue,lines:ti,wrap:ei,entriesToDisplay:si};const de=ze,{action:ii}=I,ri=qe,{beep:ni,cursor:oi}=_,li=R;let ai=class extends ri{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);const s=de.createInterface({input:this.in,escapeCodeTimeout:50});de.emitKeypressEvents(this.in,s),this.in.isTTY&&this.in.setRawMode(!0);const i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(o,r)=>{let l=ii(r,i);l===!1?this._&&this._(o,r):typeof this[l]=="function"?this[l](r):this.bell()};this.close=()=>{this.out.write(oi.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),s.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(ni)}render(){this.onRender(li),this.firstRender&&(this.firstRender=!1)}};var k=ai;const rt=R,hi=k,{erase:ci,cursor:Q}=_,{style:Dt,clear:Rt,lines:ui,figures:di}=I;class fi extends hi{constructor(t={}){super(t),this.transform=Dt.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=Rt("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=rt.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let t=await this.validator(this.value);typeof t=="string"&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,s){let i=this.value.slice(0,this.cursor),n=this.value.slice(this.cursor);this.value=`${i}${t}${n}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),s=this.value.slice(this.cursor);this.value=`${t}${s}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor+1);this.value=`${t}${s}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Q.down(ui(this.outputError,this.out.columns)-1)+Rt(this.outputError,this.out.columns)),this.out.write(Rt(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Dt.symbol(this.done,this.aborted),rt.bold(this.msg),Dt.delimiter(this.done),this.red?rt.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((t,s,i)=>t+`
${i?" ":di.pointerSmall} ${rt.red().italic(s)}`,"")),this.out.write(ci.line+Q.to(0)+this.outputText+Q.save+this.outputError+Q.restore+Q.move(this.cursorOffset,0)))}}var mi=fi;const N=R,pi=k,{style:fe,clear:me,figures:nt,wrap:gi,entriesToDisplay:bi}=I,{cursor:vi}=_;class wi extends pi{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map((s,i)=>(typeof s=="string"&&(s={title:s,value:i}),{title:s&&(s.title||s.value||s),value:s&&(s.value===void 0?i:s.value),description:s&&s.description,selected:s&&s.selected,disabled:s&&s.disabled})),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=me("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,s){if(t===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(vi.hide):this.out.write(me(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:s}=bi(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[fe.symbol(this.done,this.aborted),N.bold(this.msg),fe.delimiter(!1),this.done?this.selection.title:this.selection.disabled?N.yellow(this.warn):N.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let i=t;i<s;i++){let n,o,r="",l=this.choices[i];i===t&&t>0?o=nt.arrowUp:i===s-1&&s<this.choices.length?o=nt.arrowDown:o=" ",l.disabled?(n=this.cursor===i?N.gray().underline(l.title):N.strikethrough().gray(l.title),o=(this.cursor===i?N.bold().gray(nt.pointer)+" ":"  ")+o):(n=this.cursor===i?N.cyan().underline(l.title):l.title,o=(this.cursor===i?N.cyan(nt.pointer)+" ":"  ")+o,l.description&&this.cursor===i&&(r=` - ${l.description}`,(o.length+n.length+r.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(r=`
`+gi(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${n}${N.gray(r)}
`}}this.out.write(this.outputText)}}var yi=wi;const ot=R,xi=k,{style:pe,clear:$i}=I,{cursor:ge,erase:Si}=_;class Ei extends xi{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,s){if(t===" ")this.value=!this.value;else if(t==="1")this.value=!0;else if(t==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(ge.hide):this.out.write($i(this.outputText,this.out.columns)),super.render(),this.outputText=[pe.symbol(this.done,this.aborted),ot.bold(this.msg),pe.delimiter(this.done),this.value?this.inactive:ot.cyan().underline(this.inactive),ot.gray("/"),this.value?ot.cyan().underline(this.active):this.active].join(" "),this.out.write(Si.line+ge.to(0)+this.outputText))}}var Ti=Ei;let Ci=class Gt{constructor({token:t,date:s,parts:i,locales:n}){this.token=t,this.date=s||new Date,this.parts=i||[this],this.locales=n||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find((s,i)=>i>t&&s instanceof Gt)}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const s=t.indexOf(this);return t.find((i,n)=>n>s&&i instanceof Gt)}toString(){return String(this.date)}};var F=Ci;const Oi=F;let Mi=class extends Oi{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}};var Pi=Mi;const Di=F,Ri=e=>(e=e%10,e===1?"st":e===2?"nd":e===3?"rd":"th");let _i=class extends Di{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),s=this.date.getDay();return this.token==="DD"?String(t).padStart(2,"0"):this.token==="Do"?t+Ri(t):this.token==="d"?s+1:this.token==="ddd"?this.locales.weekdaysShort[s]:this.token==="dddd"?this.locales.weekdays[s]:t}};var Ii=_i;const Ai=F;let ji=class extends Ai{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}};var Ni=ji;const Fi=F;let Bi=class extends Fi{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};var ki=Bi;const Yi=F;let Hi=class extends Yi{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}};var Li=Hi;const Vi=F;let Gi=class extends Vi{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),s=this.token.length;return s===2?String(t+1).padStart(2,"0"):s===3?this.locales.monthsShort[t]:s===4?this.locales.months[t]:String(t+1)}};var Ji=Gi;const Wi=F;let zi=class extends Wi{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}};var qi=zi;const Ui=F;let Ki=class extends Ui{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}};var Zi=Ki,Xi={DatePart:F,Meridiem:Pi,Day:Ii,Hours:Ni,Milliseconds:ki,Minutes:Li,Month:Ji,Seconds:qi,Year:Zi};const _t=R,Qi=k,{style:be,clear:ve,figures:tr}=I,{erase:er,cursor:we}=_,{DatePart:ye,Meridiem:sr,Day:ir,Hours:rr,Milliseconds:nr,Minutes:or,Month:lr,Seconds:ar,Year:hr}=Xi,cr=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,xe={1:({token:e})=>e.replace(/\\(.)/g,"$1"),2:e=>new ir(e),3:e=>new lr(e),4:e=>new hr(e),5:e=>new sr(e),6:e=>new rr(e),7:e=>new or(e),8:e=>new ar(e),9:e=>new nr(e)},ur={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class dr extends Qi{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(ur,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=ve("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let s;for(this.parts=[];s=cr.exec(t);){let n=s.shift(),o=s.findIndex(r=>r!=null);this.parts.push(o in xe?xe[o]({token:s[o]||n,date:this.date,parts:this.parts,locales:this.locales}):s[o]||n)}let i=this.parts.reduce((n,o)=>(typeof o=="string"&&typeof n[n.length-1]=="string"?n[n.length-1]+=o:n.push(o),n),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex(t=>t instanceof ye)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let t=await this.validator(this.value);typeof t=="string"&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex(s=>s instanceof ye)),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(we.hide):this.out.write(ve(this.outputText,this.out.columns)),super.render(),this.outputText=[be.symbol(this.done,this.aborted),_t.bold(this.msg),be.delimiter(!1),this.parts.reduce((t,s,i)=>t.concat(i===this.cursor&&!this.done?_t.cyan().underline(s.toString()):s),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((t,s,i)=>t+`
${i?" ":tr.pointerSmall} ${_t.red().italic(s)}`,"")),this.out.write(er.line+we.to(0)+this.outputText))}}var fr=dr;const lt=R,mr=k,{cursor:at,erase:pr}=_,{style:It,figures:gr,clear:$e,lines:br}=I,vr=/[0-9]/,At=e=>e!==void 0,Se=(e,t)=>{let s=Math.pow(10,t);return Math.round(e*s)/s};class wr extends mr{constructor(t={}){super(t),this.transform=It.render(t.style),this.msg=t.message,this.initial=At(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=At(t.min)?t.min:-1/0,this.max=At(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){!t&&t!==0?(this.placeholder=!0,this.rendered=lt.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Se(t,this.round)}`),this._value=Se(t,this.round)),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return t==="-"||t==="."&&this.float||vr.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=t!==""?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let t=await this.validator(this.value);typeof t=="string"&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let t=this.value;this.value=t!==""?t:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(t.length===0)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,s){if(!this.valid(t))return this.bell();const i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=i,this.color="cyan",t===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(at.down(br(this.outputError,this.out.columns)-1)+$e(this.outputError,this.out.columns)),this.out.write($e(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[It.symbol(this.done,this.aborted),lt.bold(this.msg),It.delimiter(this.done),!this.done||!this.done&&!this.placeholder?lt[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((t,s,i)=>t+`
${i?" ":gr.pointerSmall} ${lt.red().italic(s)}`,"")),this.out.write(pr.line+at.to(0)+this.outputText+at.save+this.outputError+at.restore))}}var yr=wr;const A=R,{cursor:xr}=_,$r=k,{clear:Ee,figures:Y,style:Te,wrap:Sr,entriesToDisplay:Er}=I;let Tr=class extends $r{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map((s,i)=>(typeof s=="string"&&(s={title:s,value:i}),{title:s&&(s.title||s.value||s),description:s&&s.description,value:s&&(s.value===void 0?i:s.value),selected:s&&s.selected,disabled:s&&s.disabled})),this.clear=Ee("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map(t=>!t.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(t=>t.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const t=this.value.filter(s=>s.selected);this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter(s=>s.selected).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter(s=>!s.disabled).forEach(s=>s.selected=t),this.render()}_(t,s){if(t===" ")this.handleSpaceToggle();else if(t==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Y.arrowUp}/${Y.arrowDown}: Highlight option
    ${Y.arrowLeft}/${Y.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(t,s,i,n){const o=(s.selected?A.green(Y.radioOn):Y.radioOff)+" "+n+" ";let r,l;return s.disabled?r=t===i?A.gray().underline(s.title):A.strikethrough().gray(s.title):(r=t===i?A.cyan().underline(s.title):s.title,t===i&&s.description&&(l=` - ${s.description}`,(o.length+r.length+l.length>=this.out.columns||s.description.split(/\r?\n/).length>1)&&(l=`
`+Sr(s.description,{margin:o.length,width:this.out.columns})))),o+r+A.gray(l||"")}paginateOptions(t){if(t.length===0)return A.red("No matches for this query.");let{startIndex:s,endIndex:i}=Er(this.cursor,t.length,this.optionsPerPage),n,o=[];for(let r=s;r<i;r++)r===s&&s>0?n=Y.arrowUp:r===i-1&&i<t.length?n=Y.arrowDown:n=" ",o.push(this.renderOption(this.cursor,t[r],r,n));return`
`+o.join(`
`)}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter(s=>s.selected).map(s=>s.title).join(", ");const t=[A.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&t.push(A.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(xr.hide),super.render();let t=[Te.symbol(this.done,this.aborted),A.bold(this.msg),Te.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=A.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.value),this.out.write(this.clear+t),this.clear=Ee(t,this.out.columns)}};var Ce=Tr;const tt=R,Cr=k,{erase:Or,cursor:Oe}=_,{style:jt,clear:Me,figures:Nt,wrap:Mr,entriesToDisplay:Pr}=I,Pe=(e,t)=>e[t]&&(e[t].value||e[t].title||e[t]),Dr=(e,t)=>e[t]&&(e[t].title||e[t].value||e[t]),Rr=(e,t)=>{const s=e.findIndex(i=>i.value===t||i.title===t);return s>-1?s:void 0};class _r extends Cr{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial=typeof t.initial=="number"?t.initial:Rr(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=jt.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Me("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return typeof this._fb=="number"?t=this.choices[this._fb]:typeof this._fb=="string"&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=Pe(this.suggestions,t):this.value=this.fallback.value,this.fire()}async complete(t){const s=this.completing=this.suggest(this.input,this.choices),i=await s;if(this.completing!==s)return;this.suggestions=i.map((o,r,l)=>({title:Dr(l,r),value:Pe(l,r),description:o.description})),this.completing=!1;const n=Math.max(i.length-1,0);this.moveSelect(Math.min(n,this.select)),t&&t()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(t,s){let i=this.input.slice(0,this.cursor),n=this.input.slice(this.cursor);this.input=`${i}${t}${n}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let t=this.input.slice(0,this.cursor-1),s=this.input.slice(this.cursor);this.input=`${t}${s}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor+1);this.input=`${t}${s}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,s,i,n){let o,r=i?Nt.arrowUp:n?Nt.arrowDown:" ",l=s?tt.cyan().underline(t.title):t.title;return r=(s?tt.cyan(Nt.pointer)+" ":"  ")+r,t.description&&(o=` - ${t.description}`,(r.length+l.length+o.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(o=`
`+Mr(t.description,{margin:3,width:this.out.columns}))),r+" "+l+tt.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write(Oe.hide):this.out.write(Me(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:s}=Pr(this.select,this.choices.length,this.limit);if(this.outputText=[jt.symbol(this.done,this.aborted,this.exited),tt.bold(this.msg),jt.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const i=this.suggestions.slice(t,s).map((n,o)=>this.renderOption(n,this.select===o+t,o===0&&t>0,o+t===s-1&&s<this.choices.length)).join(`
`);this.outputText+=`
`+(i||tt.gray(this.fallback.title))}this.out.write(Or.line+Oe.to(0)+this.outputText)}}var Ir=_r;const B=R,{cursor:Ar}=_,jr=Ce,{clear:De,style:Re,figures:K}=I;class Nr extends jr{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=De("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const s=this.filteredOptions.findIndex(i=>i===t);this.cursor=s<0?0:s,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter(s=>s.selected).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,s){t===" "?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${K.arrowUp}/${K.arrowDown}: Highlight option
    ${K.arrowLeft}/${K.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:B.gray("Enter something to filter")}
`}renderOption(t,s,i){let n;return s.disabled?n=t===i?B.gray().underline(s.title):B.strikethrough().gray(s.title):n=t===i?B.cyan().underline(s.title):s.title,(s.selected?B.green(K.radioOn):K.radioOff)+"  "+n}renderDoneOrInstructions(){if(this.done)return this.value.filter(s=>s.selected).map(s=>s.title).join(", ");const t=[B.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&t.push(B.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Ar.hide),super.render();let t=[Re.symbol(this.done,this.aborted),B.bold(this.msg),Re.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=B.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+t),this.clear=De(t,this.out.columns)}}var Fr=Nr;const _e=R,Br=k,{style:Ie,clear:kr}=I,{erase:Yr,cursor:Ae}=_;class Hr extends Br{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(t,s){return t.toLowerCase()==="y"?(this.value=!0,this.submit()):t.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Ae.hide):this.out.write(kr(this.outputText,this.out.columns)),super.render(),this.outputText=[Ie.symbol(this.done,this.aborted),_e.bold(this.msg),Ie.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:_e.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Yr.line+Ae.to(0)+this.outputText))}}var Lr=Hr,Vr={TextPrompt:mi,SelectPrompt:yi,TogglePrompt:Ti,DatePrompt:fr,NumberPrompt:yr,MultiselectPrompt:Ce,AutocompletePrompt:Ir,AutocompleteMultiselectPrompt:Fr,ConfirmPrompt:Lr};(function(e){const t=e,s=Vr,i=r=>r;function n(r,l,d={}){return new Promise((a,v)=>{const m=new s[r](l),h=d.onAbort||i,c=d.onSubmit||i,g=d.onExit||i;m.on("state",l.onState||i),m.on("submit",$=>a(c($))),m.on("exit",$=>a(g($))),m.on("abort",$=>v(h($)))})}t.text=r=>n("TextPrompt",r),t.password=r=>(r.style="password",t.text(r)),t.invisible=r=>(r.style="invisible",t.text(r)),t.number=r=>n("NumberPrompt",r),t.date=r=>n("DatePrompt",r),t.confirm=r=>n("ConfirmPrompt",r),t.list=r=>{const l=r.separator||",";return n("TextPrompt",r,{onSubmit:d=>d.split(l).map(a=>a.trim())})},t.toggle=r=>n("TogglePrompt",r),t.select=r=>n("SelectPrompt",r),t.multiselect=r=>{r.choices=[].concat(r.choices||[]);const l=d=>d.filter(a=>a.selected).map(a=>a.value);return n("MultiselectPrompt",r,{onAbort:l,onSubmit:l})},t.autocompleteMultiselect=r=>{r.choices=[].concat(r.choices||[]);const l=d=>d.filter(a=>a.selected).map(a=>a.value);return n("AutocompleteMultiselectPrompt",r,{onAbort:l,onSubmit:l})};const o=(r,l)=>Promise.resolve(l.filter(d=>d.title.slice(0,r.length).toLowerCase()===r.toLowerCase()));t.autocomplete=r=>(r.suggest=r.suggest||o,r.choices=[].concat(r.choices||[]),n("AutocompletePrompt",r))})(ae);const Ft=ae,Gr=["suggest","format","onState","validate","onRender","type"],je=()=>{};async function H(e=[],{onSubmit:t=je,onCancel:s=je}={}){const i={},n=H._override||{};e=[].concat(e);let o,r,l,d,a,v;const m=async(h,c,g=!1)=>{if(!(!g&&h.validate&&h.validate(c)!==!0))return h.format?await h.format(c,i):c};for(r of e)if({name:d,type:a}=r,typeof a=="function"&&(a=await a(o,{...i},r),r.type=a),!!a){for(let h in r){if(Gr.includes(h))continue;let c=r[h];r[h]=typeof c=="function"?await c(o,{...i},v):c}if(v=r,typeof r.message!="string")throw new Error("prompt message is required");if({name:d,type:a}=r,Ft[a]===void 0)throw new Error(`prompt type (${a}) is not defined`);if(n[r.name]!==void 0&&(o=await m(r,n[r.name]),o!==void 0)){i[d]=o;continue}try{o=H._injected?Jr(H._injected,r.initial):await Ft[a](r),i[d]=o=await m(r,o,!0),l=await t(r,o,i)}catch{l=!await s(r,i)}if(l)return i}return i}function Jr(e,t){const s=e.shift();if(s instanceof Error)throw s;return s===void 0?t:s}function Wr(e){H._injected=(H._injected||[]).concat(e)}function zr(e){H._override=Object.assign({},e)}var qr=Object.assign(H,{prompt:H,prompts:Ft,inject:Wr,override:zr});const Ne=st(qr);var Bt={exports:{}};let ht=process||{},Fe=ht.argv||[],ct=ht.env||{},Ur=!(ct.NO_COLOR||Fe.includes("--no-color"))&&(!!ct.FORCE_COLOR||Fe.includes("--color")||ht.platform==="win32"||(ht.stdout||{}).isTTY&&ct.TERM!=="dumb"||!!ct.CI),Kr=(e,t,s=e)=>i=>{let n=""+i,o=n.indexOf(t,e.length);return~o?e+Zr(n,t,s,o)+t:e+n+t},Zr=(e,t,s,i)=>{let n="",o=0;do n+=e.substring(o,i)+s,o=i+t.length,i=e.indexOf(t,o);while(~i);return n+e.substring(o)},Be=(e=Ur)=>{let t=e?Kr:()=>String;return{isColorSupported:e,reset:t("\x1B[0m","\x1B[0m"),bold:t("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:t("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:t("\x1B[3m","\x1B[23m"),underline:t("\x1B[4m","\x1B[24m"),inverse:t("\x1B[7m","\x1B[27m"),hidden:t("\x1B[8m","\x1B[28m"),strikethrough:t("\x1B[9m","\x1B[29m"),black:t("\x1B[30m","\x1B[39m"),red:t("\x1B[31m","\x1B[39m"),green:t("\x1B[32m","\x1B[39m"),yellow:t("\x1B[33m","\x1B[39m"),blue:t("\x1B[34m","\x1B[39m"),magenta:t("\x1B[35m","\x1B[39m"),cyan:t("\x1B[36m","\x1B[39m"),white:t("\x1B[37m","\x1B[39m"),gray:t("\x1B[90m","\x1B[39m"),bgBlack:t("\x1B[40m","\x1B[49m"),bgRed:t("\x1B[41m","\x1B[49m"),bgGreen:t("\x1B[42m","\x1B[49m"),bgYellow:t("\x1B[43m","\x1B[49m"),bgBlue:t("\x1B[44m","\x1B[49m"),bgMagenta:t("\x1B[45m","\x1B[49m"),bgCyan:t("\x1B[46m","\x1B[49m"),bgWhite:t("\x1B[47m","\x1B[49m"),blackBright:t("\x1B[90m","\x1B[39m"),redBright:t("\x1B[91m","\x1B[39m"),greenBright:t("\x1B[92m","\x1B[39m"),yellowBright:t("\x1B[93m","\x1B[39m"),blueBright:t("\x1B[94m","\x1B[39m"),magentaBright:t("\x1B[95m","\x1B[39m"),cyanBright:t("\x1B[96m","\x1B[39m"),whiteBright:t("\x1B[97m","\x1B[39m"),bgBlackBright:t("\x1B[100m","\x1B[49m"),bgRedBright:t("\x1B[101m","\x1B[49m"),bgGreenBright:t("\x1B[102m","\x1B[49m"),bgYellowBright:t("\x1B[103m","\x1B[49m"),bgBlueBright:t("\x1B[104m","\x1B[49m"),bgMagentaBright:t("\x1B[105m","\x1B[49m"),bgCyanBright:t("\x1B[106m","\x1B[49m"),bgWhiteBright:t("\x1B[107m","\x1B[49m")}};Bt.exports=Be(),Bt.exports.createColors=Be;var Xr=Bt.exports;const Qr=st(Xr),{blue:j,blueBright:ut,cyan:dt,green:kt,greenBright:tn,magenta:Yt,red:J,redBright:ke,reset:L,yellow:M}=Qr,et=Is(process.argv.slice(2),{default:{help:!1},alias:{h:"help",t:"template"},string:["_"]}),Ht=process.cwd(),en=`Usage: create-vite [OPTION]... [DIRECTORY]

Create a new Vite project in JavaScript or TypeScript.
With no arguments, start the CLI in interactive mode.

Options:
  -t, --template NAME        use a specific template

Available templates:
${M("vanilla-ts     vanilla")}
${kt("vue-ts         vue")}
${dt("react-ts       react")}
${dt("react-swc-ts   react-swc")}
${Yt("preact-ts      preact")}
${ke("lit-ts         lit")}
${J("svelte-ts      svelte")}
${j("solid-ts       solid")}
${ut("qwik-ts        qwik")}`,Lt=[{name:"vanilla",display:"Vanilla",color:M,variants:[{name:"vanilla-ts",display:"TypeScript",color:j},{name:"vanilla",display:"JavaScript",color:M}]},{name:"vue",display:"Vue",color:kt,variants:[{name:"vue-ts",display:"TypeScript",color:j},{name:"vue",display:"JavaScript",color:M},{name:"custom-create-vue",display:"Customize with create-vue \u2197",color:kt,customCommand:"npm create vue@latest TARGET_DIR"},{name:"custom-nuxt",display:"Nuxt \u2197",color:tn,customCommand:"npm exec nuxi init TARGET_DIR"}]},{name:"react",display:"React",color:dt,variants:[{name:"react-ts",display:"TypeScript",color:j},{name:"react-swc-ts",display:"TypeScript + SWC",color:j},{name:"react",display:"JavaScript",color:M},{name:"react-swc",display:"JavaScript + SWC",color:M},{name:"custom-remix",display:"Remix \u2197",color:dt,customCommand:"npm create remix@latest TARGET_DIR"}]},{name:"preact",display:"Preact",color:Yt,variants:[{name:"preact-ts",display:"TypeScript",color:j},{name:"preact",display:"JavaScript",color:M},{name:"custom-create-preact",display:"Customize with create-preact \u2197",color:Yt,customCommand:"npm create preact@latest TARGET_DIR"}]},{name:"lit",display:"Lit",color:ke,variants:[{name:"lit-ts",display:"TypeScript",color:j},{name:"lit",display:"JavaScript",color:M}]},{name:"svelte",display:"Svelte",color:J,variants:[{name:"svelte-ts",display:"TypeScript",color:j},{name:"svelte",display:"JavaScript",color:M},{name:"custom-svelte-kit",display:"SvelteKit \u2197",color:J,customCommand:"npm exec sv create TARGET_DIR"}]},{name:"solid",display:"Solid",color:j,variants:[{name:"solid-ts",display:"TypeScript",color:j},{name:"solid",display:"JavaScript",color:M}]},{name:"qwik",display:"Qwik",color:ut,variants:[{name:"qwik-ts",display:"TypeScript",color:ut},{name:"qwik",display:"JavaScript",color:M},{name:"custom-qwik-city",display:"QwikCity \u2197",color:ut,customCommand:"npm create qwik@latest basic TARGET_DIR"}]},{name:"angular",display:"Angular",color:J,variants:[{name:"custom-angular",display:"Angular \u2197",color:J,customCommand:"npm exec @angular/cli@latest new TARGET_DIR"},{name:"custom-analog",display:"Analog \u2197",color:M,customCommand:"npm create analog@latest TARGET_DIR"}]},{name:"others",display:"Others",color:L,variants:[{name:"create-vite-extra",display:"create-vite-extra \u2197",color:L,customCommand:"npm create vite-extra@latest TARGET_DIR"},{name:"create-electron-vite",display:"create-electron-vite \u2197",color:L,customCommand:"npm create electron-vite@latest TARGET_DIR"}]}],Ye=Lt.map(e=>e.variants&&e.variants.map(t=>t.name)||[e.name]).reduce((e,t)=>e.concat(t),[]),sn={_gitignore:".gitignore"},Vt="vite-project";async function rn(){const e=He(et._[0]),t=et.template||et.t;if(et.help){console.log(en);return}let s=e||Vt;const i=()=>s==="."?C.basename(C.resolve()):s;let n;Ne.override({overwrite:et.overwrite});try{n=await Ne([{type:e?null:"text",name:"projectName",message:L("Project name:"),initial:Vt,onState:u=>{s=He(u.value)||Vt}},{type:()=>!E.existsSync(s)||ln(s)?null:"select",name:"overwrite",message:()=>(s==="."?"Current directory":`Target directory "${s}"`)+" is not empty. Please choose how to proceed:",initial:0,choices:[{title:"Remove existing files and continue",value:"yes"},{title:"Cancel operation",value:"no"},{title:"Ignore files and continue",value:"ignore"}]},{type:(u,{overwrite:y})=>{if(y==="no")throw new Error(J("\u2716")+" Operation cancelled");return null},name:"overwriteChecker"},{type:()=>Ve(i())?null:"text",name:"packageName",message:L("Package name:"),initial:()=>nn(i()),validate:u=>Ve(u)||"Invalid package.json name"},{type:t&&Ye.includes(t)?null:"select",name:"framework",message:typeof t=="string"&&!Ye.includes(t)?L(`"${t}" isn't a valid template. Please choose from below: `):L("Select a framework:"),initial:0,choices:Lt.map(u=>{const y=u.color;return{title:y(u.display||u.name),value:u}})},{type:u=>u&&u.variants?"select":null,name:"variant",message:L("Select a variant:"),choices:u=>u.variants.map(y=>{const p=y.color;return{title:p(y.display||y.name),value:y.name}})}],{onCancel:()=>{throw new Error(J("\u2716")+" Operation cancelled")}})}catch(u){console.log(u.message);return}const{framework:o,overwrite:r,packageName:l,variant:d}=n,a=C.join(Ht,s);r==="yes"?an(a):E.existsSync(a)||E.mkdirSync(a,{recursive:!0});let v=d||o?.name||t,m=!1;v.includes("-swc")&&(m=!0,v=v.replace("-swc",""));const h=hn(process.env.npm_config_user_agent),c=h?h.name:"npm",g=c==="yarn"&&h?.version.startsWith("1."),{customCommand:$}=Lt.flatMap(u=>u.variants).find(u=>u.name===v)??{};if($){const u=$.replace(/^npm create /,()=>c==="bun"?"bun x create-":`${c} create `).replace("@latest",()=>g?"":"@latest").replace(/^npm exec/,()=>c==="pnpm"?"pnpm dlx":c==="yarn"&&!g?"yarn dlx":c==="bun"?"bun x":"npm exec"),[y,...p]=u.split(" "),V=p.map(D=>D.replace("TARGET_DIR",()=>s)),{status:O}=Ds.sync(y,V,{stdio:"inherit"});process.exit(O??0)}console.log(`
Scaffolding project in ${a}...`);const P=C.resolve(Je(import.meta.url),"../..",`template-${v}`),T=(u,y)=>{const p=C.join(a,sn[u]??u);y?E.writeFileSync(p,y):Le(C.join(P,u),p)},W=E.readdirSync(P);for(const u of W.filter(y=>y!=="package.json"))T(u);const S=JSON.parse(E.readFileSync(C.join(P,"package.json"),"utf-8"));S.name=l||i(),T("package.json",JSON.stringify(S,null,2)+`
`),m&&cn(a,v.endsWith("-ts"));const f=C.relative(Ht,a);switch(console.log(`
Done. Now run:
`),a!==Ht&&console.log(`  cd ${f.includes(" ")?`"${f}"`:f}`),c){case"yarn":console.log("  yarn"),console.log("  yarn dev");break;default:console.log(`  ${c} install`),console.log(`  ${c} run dev`);break}console.log()}function He(e){return e?.trim().replace(/\/+$/g,"")}function Le(e,t){E.statSync(e).isDirectory()?on(e,t):E.copyFileSync(e,t)}function Ve(e){return/^(?:@[a-z\d\-*~][a-z\d\-*._~]*\/)?[a-z\d\-~][a-z\d\-._~]*$/.test(e)}function nn(e){return e.trim().toLowerCase().replace(/\s+/g,"-").replace(/^[._]/,"").replace(/[^a-z\d\-~]+/g,"-")}function on(e,t){E.mkdirSync(t,{recursive:!0});for(const s of E.readdirSync(e)){const i=C.resolve(e,s),n=C.resolve(t,s);Le(i,n)}}function ln(e){const t=E.readdirSync(e);return t.length===0||t.length===1&&t[0]===".git"}function an(e){if(E.existsSync(e))for(const t of E.readdirSync(e))t!==".git"&&E.rmSync(C.resolve(e,t),{recursive:!0,force:!0})}function hn(e){if(!e)return;const t=e.split(" ")[0].split("/");return{name:t[0],version:t[1]}}function cn(e,t){Ge(C.resolve(e,"package.json"),s=>s.replace(/"@vitejs\/plugin-react": ".+?"/,'"@vitejs/plugin-react-swc": "^3.5.0"')),Ge(C.resolve(e,`vite.config.${t?"ts":"js"}`),s=>s.replace("@vitejs/plugin-react","@vitejs/plugin-react-swc"))}function Ge(e,t){const s=E.readFileSync(e,"utf-8");E.writeFileSync(e,t(s),"utf-8")}rn().catch(e=>{console.error(e)});
